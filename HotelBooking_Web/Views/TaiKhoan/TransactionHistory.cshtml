@{
    ViewBag.Title = "Lịch sử Giao dịch";
    Layout = "~/Views/Shared/_ProfileLayout.cshtml";
    ViewBag.ActivePage = "TransactionHistory";

    var mockTransactions = new List<dynamic>
{
        new {
            Id = "TRX-99812",
            Date = "25/11/2025 14:30",
            Content = "Thanh toán đặt phòng Deluxe Ocean View",
            Amount = "- 3.500.000 đ",
            Type = "minus", 
            Status = "Thành công",
            StatusClass = "status-success" 
        },
        new {
            Id = "TRX-88721",
            Date = "20/11/2025 09:15",
            Content = "Hoàn tiền hủy phòng (BK-2023003)",
            Amount = "+ 5.000.000 đ",
            Type = "plus", 
            Status = "Hoàn tất",
            StatusClass = "status-success"
        },
        new {
            Id = "TRX-77652",
            Date = "10/11/2025 10:00",
            Content = "Phí quản lý tài khoản",
            Amount = "- 50.000 đ",
            Type = "minus",
            Status = "Thành công",
            StatusClass = "status-success"
        },
         new {
            Id = "TRX-66543",
            Date = "05/11/2025 18:00",
            Content = "Thanh toán đặt phòng Superior Double",
            Amount = "- 2.000.000 đ",
            Type = "minus",
            Status = "Đang xử lý",
            StatusClass = "status-pending"
        }
    };
}

<h2>@ViewBag.Title</h2>

@if (mockTransactions.Count > 0)
{
    <div class="transaction-box">
        <table class="t-table">
            <thead>
                <tr>
                    <th>Mã Giao dịch</th>
                    <th>Nội dung</th>
                    <th>Ngày/Giờ</th>
                    <th>Số tiền</th>
                    <th style="text-align: right;">Trạng thái</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in mockTransactions)
                {
                    <tr>
                        <td><span class="t-id">@item.Id</span></td>
                        <td>
                            <div class="t-desc" title="@item.Content">@item.Content</div>
                        </td>
                        <td><span class="t-date">@item.Date</span></td>
                        <td>
                            <span class="t-amount @item.Type">@item.Amount</span>
                        </td>
                        <td style="text-align: right;">
                            <span class="status-badge @item.StatusClass">
                                @item.Status
                            </span>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
}
else
{
    <div style="text-align: center; padding: 40px; color: #888; background: #fff; border-radius: 12px; border: 1px solid #eee;">
        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#ddd" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" style="margin-bottom: 10px;"><circle cx="12" cy="12" r="10" /><line x1="12" y1="8" x2="12" y2="12" /><line x1="12" y1="16" x2="12.01" y2="16" /></svg>
        <p>Chưa có giao dịch nào phát sinh.</p>
    </div>
}